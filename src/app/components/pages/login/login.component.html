<main>
    <form [formGroup]="form" (submit)="submitForm()">
        <h1>Welcome to Stock Master</h1>
        @if (!isLogin) {
          <div>
              <mat-icon class="icon">person_pin</mat-icon>
              <input [ngClass]="{ 'is-invalid': isInvalidField('name') }"
                placeholder="Name"
                type="text"
                formControlName="name"
                autocomplete="name">
          </div>
        }
        <div>
            <mat-icon class="icon">email</mat-icon>
            <input [ngClass]="{ 'is-invalid': isInvalidField('email') }"
              placeholder="Email"
              type="email"
              formControlName="email"
              autocomplete="email">
        </div>
        <div>
            <mat-icon class="icon">lock</mat-icon>
            <input [ngClass]="{ 'is-invalid': isInvalidField('password') }"
              placeholder="Password"
              type="password"
              formControlName="password"
              autocomplete="{{isLogin ? 'current-password' : 'new-password'}}">
        </div>
        @if (!isLogin) {
          <div>
            <mat-icon class="icon">lock</mat-icon>
            <input [ngClass]="{ 'is-invalid': isInvalidPasswordMatch('password', 'confirmPassword') }"
              placeholder="Confirm password"
              type="password"
              formControlName="confirmPassword"
              autocomplete="new-password">
          </div>
        }
        @if (isLogin) {
          <button class="login">Login</button>
        } @else {
          <button class="sign-up">Sign up</button>
        }
        <a class="login-google" href="{{googleAuthUrl()}}">Login with Google</a>
        @if (isLogin) {
          <a (click)="changeIsLogin()">Donâ€™t you have an account? Sign up here</a>
        } @else {
          <a (click)="changeIsLogin()">Do you have an account? Login here</a>
        }
    </form>    
</main>
